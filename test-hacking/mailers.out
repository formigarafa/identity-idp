
Randomized with seed 8268

ReportMailer
  deleted_user_accounts_report
    renders the body
    renders the subject
    sends to the current email
    behaves like a system email
      is from the default email

UserMailerPreview
  has a preview method for each mailer method
  uses user and email records that cannot be saved
  #password_changed
    generates a preview without blowing up
  #in_person_failed_fraud
    generates a preview without blowing up
  #email_deleted
    generates a preview without blowing up
  #in_person_ready_to_verify_reminder
    generates a preview without blowing up
  #personal_key_regenerated
    generates a preview without blowing up
  #account_reset_complete
    generates a preview without blowing up
  #email_added
    generates a preview without blowing up
  #account_reset_granted
    generates a preview without blowing up
  #doc_auth_desktop_link_to_sp
    generates a preview without blowing up
  #personal_key_sign_in
    generates a preview without blowing up
  #account_reset_request
    generates a preview without blowing up
  #in_person_completion_survey
    generates a preview without blowing up
  #in_person_failed
    generates a preview without blowing up
  #please_reset_password
    generates a preview without blowing up
  #letter_reminder
    generates a preview without blowing up
  #unconfirmed_email_instructions
    generates a preview without blowing up
  #add_email_associated_with_another_account
    generates a preview without blowing up
  #in_person_ready_to_verify
    generates a preview without blowing up
  #new_device_sign_in
    generates a preview without blowing up
  #email_confirmation_instructions
    generates a preview without blowing up
  #add_email
    generates a preview without blowing up
  #account_verified
    generates a preview without blowing up
  #phone_added
    generates a preview without blowing up
  #in_person_verified
    generates a preview without blowing up
  #account_reset_cancel
    generates a preview without blowing up
  #reset_password_instructions
    generates a preview without blowing up
  #signup_with_your_email
    generates a preview without blowing up

UserMailer
  #add_email
    renders the add_email_confirmation_url
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #email_confirmation_instructions
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #account_reset_granted
    renders the body
    renders the subject
    sends to the current email
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #password_changed
    does not send mail to emails in nonessential email banlist
    renders the subject
    sends to the current email
    renders the body
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #deliver_later
    does not queue email if it potentially contains sensitive keys
    does not queue email if it potentially contains sensitive value
  #account_verified
    does not send mail to emails in nonessential email banlist
    sends to the current email
    renders the subject
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #letter_reminder
    renders the subject
    sends to the current email
    renders the body
    does not send mail to emails in nonessential email banlist
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #signup_with_your_email
    renders the subject
    renders the body
    sends to the current email
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
    in a non-default locale
      links to the correct locale
  #account_reset_complete
    renders the body
    renders the subject
    sends to the current email
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #in_person_ready_to_verify
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #personal_key_sign_in
    does not send mail to emails in nonessential email banlist
    sends to the current email
    renders the body
    renders the subject
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #add_email_associated_with_another_account
    sends to the specified email
    renders the subject
    renders the body
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #account_reset_cancel
    renders the subject
    renders the body
    sends to the current email
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #phone_added
    renders the subject
    does not send mail to emails in nonessential email banlist
    renders the body
    sends to the current email
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #in_person_ready_to_verify_reminder
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #please_reset_password
    sends to the current email
    renders the subject
    renders the body
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #in_person_verified
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #in_person_completion_survey
    renders the subject
    sends to the current email
    renders the body
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #account_reset_request
    renders the subject
    renders the body
    sends to the current email
    renders the header within the body
    does not render the subject in the body
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #validate_user_and_email_address
    with user and email address match
      does not raise an error
    with user and email address mismatch
      raises an error
  #doc_auth_desktop_link_to_sp
    sends to the current email
    renders the subject
    renders the body
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale
  #email_deleted
    renders the subject
    renders the body
    sends to the old email
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #in_person_failed_fraud
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #new_device_sign_in
    does not send mail to emails in nonessential email banlist
    renders the subject
    renders the body
    sends to the current email
    behaves like a system email
      is from the default email
  #personal_key_regenerated
    renders the subject
    sends to the current email
    does not send mail to emails in nonessential email banlist
    renders the body
    behaves like an email that respects user email locale preference
      is in the correct locale
    behaves like a system email
      is from the default email
  #in_person_failed
    behaves like a system email
      is from the default email
    behaves like an email that respects user email locale preference
      is in the correct locale

Top 10 slowest examples (1.96 seconds, 14.5% of total time):
  UserMailer#in_person_ready_to_verify behaves like an email that respects user email locale preference is in the correct locale
    0.33897 seconds ./spec/support/shared_examples_for_mailer.rb:15
  ReportMailer deleted_user_accounts_report renders the body
    0.27959 seconds ./spec/mailers/report_mailer_spec.rb:27
  UserMailer#in_person_ready_to_verify behaves like a system email is from the default email
    0.19791 seconds ./spec/support/shared_examples_for_mailer.rb:2
  UserMailer#in_person_ready_to_verify_reminder behaves like an email that respects user email locale preference is in the correct locale
    0.19116 seconds ./spec/support/shared_examples_for_mailer.rb:15
  UserMailer#in_person_verified behaves like an email that respects user email locale preference is in the correct locale
    0.17191 seconds ./spec/support/shared_examples_for_mailer.rb:15
  UserMailer#in_person_failed_fraud behaves like a system email is from the default email
    0.16582 seconds ./spec/support/shared_examples_for_mailer.rb:2
  UserMailer#in_person_ready_to_verify_reminder behaves like a system email is from the default email
    0.16372 seconds ./spec/support/shared_examples_for_mailer.rb:2
  UserMailer#in_person_failed behaves like an email that respects user email locale preference is in the correct locale
    0.15676 seconds ./spec/support/shared_examples_for_mailer.rb:15
  UserMailer#email_deleted renders the body
    0.15425 seconds ./spec/mailers/user_mailer_spec.rb:59
  UserMailer#doc_auth_desktop_link_to_sp renders the subject
    0.1444 seconds ./spec/mailers/user_mailer_spec.rb:488

Top 3 slowest example groups:
  ReportMailer
    0.11881 seconds average (0.47525 seconds / 4 examples) ./spec/mailers/report_mailer_spec.rb:3
  UserMailer
    0.09384 seconds average (10.51 seconds / 112 examples) ./spec/mailers/user_mailer_spec.rb:3
  UserMailerPreview
    0.05146 seconds average (1.49 seconds / 29 examples) ./spec/mailers/previews/user_mailer_preview_spec.rb:4

Finished in 13.55 seconds (files took 2.37 seconds to load)
145 examples, 0 failures

Randomized with seed 8268

Coverage report generated for RSpec to /home/jmax/projects/identity-idp/coverage. 2392 / 36472 LOC (6.56%) covered.
